(function(e){"use strict";window.log=function(){"use strict";window.log.history=window.log.history||[];window.log.history.push(arguments);if(window.console){window.console.log(Array.prototype.slice.call(arguments))}};e.fn.extend({equalHeight:function(){var t=0,n=e(this);return n.css("height","auto").each(function(n,r){t=Math.max(t,e(r).outerHeight())}).css("height",t+"px")},equalWidth:function(){var t=0,n=e(this);return n.css("width","auto").each(function(n,r){t=Math.max(t,e(r).outerWidth())}).css("width",t+"px")}});var t=t||function(){var t={};var n=true;var r={moduleone:{init:function(){log("moduleone init");a.add(e(".height div"));f.add(e(".width div"));o.add(r.moduletwo.orf);o.add(function(){r.moduletwo.orfwp("hui","bla","b√§m")},"orfwp");u.addListener("M",r.moduletwo.cbf,"enter");this.initListeners()},initListeners:function(){e("#open").on("click",function(e){log("open clicked");e.stopPropagation();e.preventDefault();r.moduletwo.open()});e("#close").on("click",function(e){log("close clicked");e.stopPropagation();e.preventDefault();r.moduletwo.close()});e("#removeorf").on("click",function(e){log("removeorf clicked");e.stopPropagation();e.preventDefault();o.remove("orfwp")});e("#addorf").on("click",function(e){log("addorf clicked");e.stopPropagation();e.preventDefault();o.add(function(){r.moduletwo.orfwp("this","is","second","add")},"orfwp")})}},moduletwo:function(){var t=false;var n=function(){log("moduletwo singleton private init");t=true};var r={init:function(){if(!t)n();log("moduletwo public init");return r},cbf:function(){e(".example.mquerys").append(" <p>mQuery-Listener triggered</p> ");return r.cbf},orf:function(){e(".example.onresize").append(" <p>onResize triggers all added functions</p> ");return r.orf},orfwp:function(t,n,i,s){e(".example.onresizewithparam").append("<p>onResize triggered with the following param: "+t+" - "+n+" - "+i+" - "+s+"</p>");return r.orfwp},open:function(){log("open function called");e("#ovone").addClass("open");l.setActive(r)},close:function(){log("close function called");e("#ovone").removeClass("open");l.unsetActive(r)}};return r}(),overlayModule:function(){var t={init:function(){e("#o").on("click",function(e){e.preventDefault();e.stopPropagation();t.open()});e("#c").on("click",function(e){e.stopPropagation();e.preventDefault();t.close()});e(".overlay").on("click",function(e){e.stopPropagation();e.preventDefault()})},open:function(){log("overlayModule open");e("#ovtwo").addClass("open");l.setActive(t)},close:function(){log("overlayModule close");e("#ovtwo").removeClass("open");l.unsetActive(t)}};return t}()};var i=function(){log("_privMethod")},s=function(){log("_init");e(function(){log("_init (init modules)");o.init();u.init();l.init();r.moduleone.init();r.overlayModule.init()});if(n){t.modules=r;t.onResize=o;t.mquery=u;t.overlayHandler=l}return t},o={fnArr:[],t:undefined,tms:500,init:function(){var t=this;e(window).on("resize",function(){if(t.t){window.clearTimeout(t.t)}t.t=window.setTimeout(function(){t.loop()},t.tms)})},add:function(e,t){if(!e||typeof e!=="function"){return false}var n=Array.prototype.slice.call(arguments,1);this.fnArr.push([e,t,n]);return true},loop:function(){e.each(this.fnArr,function(e,t){t[0].apply(undefined,t[2])})},setTimeoutMs:function(e){if(parseInt(e,10)){this.tms=e;return true}return false},remove:function(t){var n=this,r=undefined;e.each(this.fnArr,function(e,n){if(n[1]==t)r=e});if(r!=undefined){n.fnArr.splice(r,1);return true}return false}},u=function(){var e={},t={S:"only screen and (max-width: 479px)",M:"only screen and (min-width: 480px) and (max-width: 768px)",L:"only screen and (min-width: 769px) and (max-width: 1023px)",XL:"only screen and (min-width: 1024px)"},n={init:function(){},addListener:function(e,t,n){if(!n){n="enter"}var r=this.getMQL(e);r.addListener(function(){if(n==="enter"&&r.matches||n==="leave"&&!r.matches||n==="both"){t.call()}})},check:function(e){return this.getMQL(e).matches},getMQL:function(n){if(!e[n]){if(!!n){e[n]=matchMedia(t[n])}else{log("error")}}return e[n]},get:function(){var e=new Array;for(var n in t){if(this.getMQL(n).matches)e.push(n)}return e}};window.mquery=n;return n}(),a={add:function(e,t){e.equalHeight();o.add(function(){e.css("height","auto");e.equalHeight()},t)},remove:function(e,t){e.css("height","auto");o.remove(t)}},f={add:function(e,t){e.equalWidth();o.add(function(){e.css("width","auto");e.equalWidth()})},remove:function(e,t){e.css("width","auto");o.remove(t)}},l=function(){var t=function(e){if(!e){log("error: no module");return false}if(typeof e.close!=="function"){log("error: no close function");return false}return true},n=function(e){if(!r.active){return false}return true};var r={active:undefined,init:function(){this.active=!!this.active||undefined;e(document).on("click","body",function(e){log("clicked on: "+e.originalEvent.target);l.close(l.active)})},setActive:function(e){var t=this;if(n(e)){this.close(e)}if(!!e&&e!==t.active){t.active=e;return true}return false},unsetActive:function(e){if(this.active===e){this.active=undefined;return true}else{console.log("error")}return false},close:function(e){if(n(e)){r.active.close.apply(r.active);r.unsetActive()}}};return r}();return s()}();e(function(){window.newProjekt=t})})(window.jQuery)